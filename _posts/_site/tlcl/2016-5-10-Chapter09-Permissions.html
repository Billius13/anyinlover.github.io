<ul>
  <li>id - Display user identity</li>
  <li>chmod - Change a file’s mode</li>
  <li>umask - Set the default file permissions</li>
  <li>su - Run a shell as another user</li>
  <li>sudo - Execute a command as another user</li>
  <li>chown - Change a file’s owner</li>
  <li>chgrp - CHange a file’s group ownership</li>
  <li>passwd - Change a user’s password</li>
</ul>

<p>Linux: not only multitasking system, but also multi-user system</p>

<h2 id="owners-group-members-and-everybody-else">Owners, Group Members, And Everybody Else</h2>

<p>Find out information about your identity</p>

<pre><code>id
</code></pre>

<p>User accounts are defined in the <code>/etc/passwd</code></p>

<p>Groups are defined in the <code>/etc/group</code></p>

<h2 id="reading-writing-and-executing">Reading, Writing, And Executing</h2>

<p><code>-rw-rw-r-- me	me 0 2008-03-06 14:52 foo.txt</code></p>

<p><em>File Types</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Attribute</th>
      <th style="text-align: left">File Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">-</td>
      <td style="text-align: left">A regular file</td>
    </tr>
    <tr>
      <td style="text-align: center">d</td>
      <td style="text-align: left">A directory</td>
    </tr>
    <tr>
      <td style="text-align: center">l</td>
      <td style="text-align: left">A symbolic link. The remaining file attributes are always “rwxrwxrwx” and are dummy values</td>
    </tr>
    <tr>
      <td style="text-align: center">c</td>
      <td style="text-align: left">A character special file, refers to a device that handles data as a stream of bytes</td>
    </tr>
    <tr>
      <td style="text-align: center">b</td>
      <td style="text-align: left">A block special file, refers to a device that handles data in blocks</td>
    </tr>
  </tbody>
</table>

<p><em>Permission Attributes</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Attribute</th>
      <th style="text-align: left">Files</th>
      <th style="text-align: left">Directories</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">r</td>
      <td style="text-align: left">Allows a file to be opened and read</td>
      <td style="text-align: left">Allows a directory’s contents to be listed if the execute attribute is also set</td>
    </tr>
    <tr>
      <td style="text-align: center">w</td>
      <td style="text-align: left">Allows a file to be written to or truncated, not allow to be renamed or deleted, which is determined by directory attributes</td>
      <td style="text-align: left">Allows files within a directory to be created, deleted, and renamed if the execute attribute is also set</td>
    </tr>
    <tr>
      <td style="text-align: center">x</td>
      <td style="text-align: left">Allows a file to be treated as a program and executed</td>
      <td style="text-align: left">Allows a directory to be entered</td>
    </tr>
  </tbody>
</table>

<p><em>Permission Attribute Examples</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">File Attributes</th>
      <th style="text-align: left">Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code>-rwx------</code></td>
      <td style="text-align: left">A regular file that is readable, writable, and executable by the file’s owner. No one else has any access</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>-rw-------</code></td>
      <td style="text-align: left">A regular file that is readable and writable by the file’s owner. No one else has any access</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>-rw-r--r--</code></td>
      <td style="text-align: left">A regular file that is readable and writable by the file’s owner. Members of the file’s owner group may read the file. The file is world-readable</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>-rwxr-xr-x</code></td>
      <td style="text-align: left">A regular file that is readable, writable, and executable by the file’s owner. The file may be read and executed by everybody else</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>rw-rw----</code></td>
      <td style="text-align: left">A regular file that is readable and writable by the file’s owner and members of the file’s group owner only.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>lrwxrwxrwx</code></td>
      <td style="text-align: left">A symbolic link. All symbolic links have “dummy” permissions.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>drwxrwx---</code></td>
      <td style="text-align: left">A directory. The owner and the members of the owner group may enter the directory and, create, rename and remove files within the directory.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>drwxr-x---</code></td>
      <td style="text-align: left">A directory. The owner may enter the directory and create, rename and delete files within the directory. Members of the owner group may enter the directory but cannot create, delete or rename files.</td>
    </tr>
  </tbody>
</table>

<h2 id="chmod---change-file-mode">chmod - Change File Mode</h2>

<p><em>File Modes In binary And Octal</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Octal</th>
      <th style="text-align: center">Binary</th>
      <th style="text-align: center">File Mode</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">000</td>
      <td style="text-align: center"><code>---</code></td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">001</td>
      <td style="text-align: center"><code>--x</code></td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">010</td>
      <td style="text-align: center"><code>-w-</code></td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">011</td>
      <td style="text-align: center"><code>-wx</code></td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">100</td>
      <td style="text-align: center"><code>r--</code></td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">101</td>
      <td style="text-align: center"><code>r-x</code></td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">110</td>
      <td style="text-align: center"><code>rw-</code></td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: center">111</td>
      <td style="text-align: center"><code>rwx</code></td>
    </tr>
  </tbody>
</table>

<pre><code>chmod 600 foo.txt
</code></pre>

<p>A few common ones: 7(<code>rwx</code>), 6(<code>rw-</code>), 5(<code>r-x</code>), 4(<code>r--</code>), and 0(<code>---</code>)</p>

<p><em>chmod Symbolic Notation</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Symbol</th>
      <th style="text-align: left">Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">u</td>
      <td style="text-align: left">Short for “user” but means the file or directory owner</td>
    </tr>
    <tr>
      <td style="text-align: center">g</td>
      <td style="text-align: left">Group owner</td>
    </tr>
    <tr>
      <td style="text-align: center">o</td>
      <td style="text-align: left">Short for “others”, but means world</td>
    </tr>
    <tr>
      <td style="text-align: center">a</td>
      <td style="text-align: left">Short for “all”. The combination of “u”, “g”, and “o”</td>
    </tr>
  </tbody>
</table>

<p><em>chmod Symbolic Notation Examples</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Notation</th>
      <th style="text-align: left">Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">u+x</td>
      <td style="text-align: left">Add execute permission for the owner</td>
    </tr>
    <tr>
      <td style="text-align: center">u-x</td>
      <td style="text-align: left">Remove execute permission from the owner</td>
    </tr>
    <tr>
      <td style="text-align: center">+x</td>
      <td style="text-align: left">Add execute permission for the owner, group, and world</td>
    </tr>
    <tr>
      <td style="text-align: center">o-rw</td>
      <td style="text-align: left">Remove the read and write permission from anyone besides the owner and group owner</td>
    </tr>
    <tr>
      <td style="text-align: center">go=rw</td>
      <td style="text-align: left">Set the group owner and anyone besides the owner to have read and write permission. If eithet the group owner or world previously had execute permissions, they are removed</td>
    </tr>
    <tr>
      <td style="text-align: center">u+x, go=rx</td>
      <td style="text-align: left">Add execute permission for the owner and set the permissions for the group and others to read and execute</td>
    </tr>
  </tbody>
</table>

<h2 id="umask---set-default-permissions">umask - Set Default Permissions</h2>

<p>See the current value</p>

<pre><code>umask
</code></pre>

<p>Set another value</p>

<pre><code>umask 0022
</code></pre>

<ul>
  <li>Some Special Permissions</li>
</ul>

<p>setuid bit (4000): set the effective user ID from that of the real user (the user actually running the program) to that of the program’s owner.</p>

<p>setgid bit(2000): set the effective group ID from the real group ID of the real user to that of the file owner.</p>

<p>sticky bit(1000): Prevent users from deleting or renaming files unless the user is either the owner of the directory, the owner of the file, or the superuser.</p>

<pre><code>chmod u+s program`-&gt;`-rwsr-xr-x
chmod g+s dir`-&gt;`drwxrwsr-x
chmod +t dir`-&gt;`drwxrwxrwt
</code></pre>

<h2 id="changing-identities">Changing Identities</h2>

<h3 id="su---run-a-shell-with-substitute-user-and-group-ids">su - Run A Shell With Substitute User And Group IDs</h3>

<pre><code>su [-[l]] [user]
</code></pre>

<p>If <code>-l</code> option is included, the resulting shell session is a login shell for the specified user.</p>

<p>To start a shell for the superuser</p>

<pre><code>su -
</code></pre>

<p>Return to the previous shell</p>

<pre><code>exit
</code></pre>

<p>Execute a single command, it’s important to enclose the command in quotes</p>

<pre><code>su -c 'commad'
</code></pre>

<h3 id="sudo---execute-a-command-as-another-user">sudo - Execute A Command As Another User</h3>

<pre><code>sudo command
</code></pre>

<p>To see the privileges granted by sudo</p>

<pre><code>sudo -l
</code></pre>

<h3 id="chown---change-file-owner-and-group">chown - Change File Owner And Group</h3>

<pre><code>chown [owner][:[group]] file...
</code></pre>

<p><em>chown Argument Examples</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Argument</th>
      <th style="text-align: left">Results</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">bob</td>
      <td style="text-align: left">Changes the ownership of the file from its current owner to user bob</td>
    </tr>
    <tr>
      <td style="text-align: center">bob:users</td>
      <td style="text-align: left">Changes the ownership of the file from its current owner to user bob and changes the file group owner to group users.</td>
    </tr>
    <tr>
      <td style="text-align: center">:admins</td>
      <td style="text-align: left">Changes the group owner to the group admins. The file owner is unchanged</td>
    </tr>
    <tr>
      <td style="text-align: center">bob:</td>
      <td style="text-align: left">Change the file owner from the current owner to user bob and changes the group owner to the login group of user bob</td>
    </tr>
  </tbody>
</table>

<h3 id="chgrp---change-group-ownership">chgrp - Change Group Ownership</h3>

<p>Used in older versions of Unix to change group ownership.</p>

<h2 id="changing-your-password">Changing Your Password</h2>

<pre><code>passwd [user]
</code></pre>
