<p>本讲主要学习<code>UPDATE</code>和<code>DELETE</code>语句来操作数据。</p>

<h2 id="section">更新数据</h2>

<p><code>UPDATE</code>主要有两种用法：</p>

<ul>
  <li>更新特定行</li>
  <li>更新所有行</li>
</ul>

<pre><code class="language-sql">UPDATE Customers
SET cust_email='kim@thetoystore.com'
WHERE cust_id='1000000005';

UPDATE Customers
SET cust_contact='Sam Roberts',
	cust_email='sam@toyland.com'
WHERE cust_id='1000000006';

UPDATE Customers
SET cust_email=NULL
WHERE cust_id='1000000005';
</code></pre>

<h2 id="section-1">删除数据</h2>

<pre><code class="language-sql">DELETE FROM Customers
WHERE cust_id='1000000008';
</code></pre>

<p>注意如果要删除的行中存在其他表的外键，那么删除操作是无法完成的。</p>

<h2 id="section-2">更新删除数据指南</h2>

<p>下面是一些实用的更新删除数据指南：</p>

<ul>
  <li>永远不要在没有<code>WHERE</code>分句的情况下更新和删除，除非你真的想操作所有行。</li>
  <li>确保每张表都有一个主键，尽可能在<code>WHERE</code>分句中使用它。</li>
  <li>在用<code>WHERE</code>分句更新删除前，先用<code>SELECT</code>测试查看。</li>
  <li>使用数据库的强制参考完整性特性，即上面提到的外键。</li>
  <li>考虑DBA强制在更新删除时使用<code>WHERE</code>。</li>
</ul>
